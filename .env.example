# Canton CBTC Library Configuration Example
# Copy this file to .env and fill in your values

# =============================================================================
# CORE CONFIGURATION (Required for all operations)
# =============================================================================

# KEYCLOAK / OIDC AUTHENTICATION
# Your Keycloak/OIDC provider host URL
KEYCLOAK_HOST=https://keycloak.dev.canton.example.com
# The realm name in your Keycloak instance
KEYCLOAK_REALM=your-realm-name
# The client ID for your wallet/application
KEYCLOAK_CLIENT_ID=your-client-id
# Username for password grant authentication
KEYCLOAK_USERNAME=your-username
# Password for password grant authentication
KEYCLOAK_PASSWORD=your-password

# CANTON LEDGER
# Your Canton participant node's ledger API host
LEDGER_HOST=https://participant.example.com
# Your party ID on the Canton network
PARTY_ID=your-party::1220abcdef...

# =============================================================================
# MINT & REDEEM OPERATIONS (Required for BTC â†” CBTC bridging)
# =============================================================================

# BITSAFE ATTESTOR NETWORK
# Attestor URL for BTC/CBTC bridging operations
# Devnet: https://devnet.dlc.link/attestor-1
# Testnet: https://testnet.dlc.link/attestor-1
# Mainnet: https://mainnet.dlc.link/attestor-1
ATTESTOR_URL=https://devnet.dlc.link/attestor-1

# Canton network identifier for attestor API calls
# Devnet: canton-devnet
# Testnet: canton-testnet
# Mainnet: canton-mainnet
CANTON_NETWORK=canton-devnet

# Destination Bitcoin address for withdrawals (for testing withdraw account creation)
# This should be a valid Bitcoin address for your target network
# Devnet/Regtest: bcrt1q... (regtest bech32)
# Testnet: tb1q... (testnet bech32)
# Mainnet: bc1q... (mainnet bech32)
DESTINATION_BTC_ADDRESS=

# =============================================================================
# SEND & TRANSFER OPERATIONS (Required for sending CBTC to other parties)
# =============================================================================

# CBTC NETWORK CONFIGURATION
# The decentralized party ID for CBTC (environment-specific)
# Devnet: cbtc-network::12202a83c6f4082217c175e29bc53da5f2703ba2675778ab99217a5a881a949203ff
# Testnet: cbtc-network::12201b1741b63e2494e4214cf0bedc3d5a224da53b3bf4d76dba468f8e97eb15508f
# Mainnet: cbtc-network::12205af3b949a04776fc48cdcc05a060f6bda2e470632935f375d1049a8546a3b262
DECENTRALIZED_PARTY_ID=cbtc-network::12202a83c6f4082217c175e29bc53da5f2703ba2675778ab99217a5a881a949203ff

# Registry URL (environment-specific)
# Devnet: https://api.utilities.digitalasset-dev.com
# Testnet: https://api.utilities.digitalasset-staging.com
# Mainnet: https://api.utilities.digitalasset.com
REGISTRY_URL=https://api.utilities.digitalasset-dev.com

# Optional: Transfer amount for send examples (default: 0.1)
TRANSFER_AMOUNT=0.1

# Optional: CSV file path for batch distribution (default: recipients.csv)
RECIPIENTS_CSV=recipients.csv

# =============================================================================
# STREAM EXAMPLE (for stream_cbtc example)
# =============================================================================
# RECEIVER_PARTY=receiver-party::1220...
# TRANSFER_COUNT=10

# =============================================================================
# TESTING (for running integration tests)
# =============================================================================
# Test receiver party ID (for transfer tests)
LIB_TEST_RECEIVER_PARTY_ID=example-receiver::1220...

# Transfer offer contract ID (for accept transfer test - optional, test will skip if not set)
LIB_TEST_TRANSFER_OFFER_CID=

# Client secret for ledger end tests (client credentials flow)
LIB_TEST_LEDGER_END_CLIENT_SECRET=your-client-secret-here

# Client secret for amulet rules tests (client credentials flow)
LIB_TEST_AMULET_CLIENT_SECRET=your-amulet-client-secret-here

# Wallet API host for amulet rules tests
WALLET_API_HOST=https://wallet.example.com

RUST_LOG=trace,tungstenite=error,tokio_tungstenite=error,reqwest=error
